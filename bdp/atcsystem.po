THEORY ProofList IS
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & WellDefinedness_slowdown.4,(_f(68) => _f(70));
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & WellDefinedness_slowdown.3,(_f(68) => _f(69));
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & WellDefinedness_slowdown.2,(_f(68) => _f(65));
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & WellDefinedness_slowdown.1,(_f(68) => _f(64));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_slowdown.4,(_f(30) & _f(61) => _f(70));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_slowdown.3,(_f(30) & _f(61) => _f(69));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_slowdown.2,(_f(30) & _f(61) => _f(65));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_slowdown.1,(_f(30) & _f(61) => _f(64));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & WellDefinedness_speedup.4,(_f(68) => _f(70));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & WellDefinedness_speedup.3,(_f(68) => _f(69));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & WellDefinedness_speedup.2,(_f(68) => _f(65));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & WellDefinedness_speedup.1,(_f(68) => _f(64));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.6,(_f(30) & _f(61) => _f(72));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.5,(_f(30) & _f(61) => _f(71));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.4,(_f(30) & _f(61) => _f(70));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.3,(_f(30) & _f(61) => _f(69));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.2,(_f(30) & _f(61) => _f(65));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_speedup.1,(_f(30) & _f(61) => _f(64));
_f(1) & _f(2) & _f(11) & _f(30) & _f(31) & WellDefinedness_change_direction.2,(_f(68) => _f(65));
_f(1) & _f(2) & _f(11) & _f(30) & _f(31) & WellDefinedness_change_direction.1,(_f(68) => _f(64));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_change_direction.4,(_f(30) & _f(61) => _f(67));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_change_direction.3,(_f(30) & _f(61) => _f(66));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_change_direction.2,(_f(30) & _f(61) => _f(65));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_change_direction.1,(_f(30) & _f(61) => _f(64));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_takeoff_from.2,(_f(12) & _f(13) & _f(61) => _f(63));
_f(1) & _f(2) & _f(11) & WellDefinednessPrecondition_takeoff_from.1,(_f(12) & _f(13) & _f(61) => _f(62));
_f(1) & _f(2) & WellDefinednessInvariant.6,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(49) & _f(50) & _f(51) & _f(52) & _f(53) & _f(54) => _f(60));
_f(1) & _f(2) & WellDefinednessInvariant.5,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(49) & _f(50) & _f(51) & _f(52) & _f(54) => _f(59));
_f(1) & _f(2) & WellDefinednessInvariant.4,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(49) & _f(50) & _f(51) & _f(54) => _f(58));
_f(1) & _f(2) & WellDefinednessInvariant.3,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(49) & _f(50) & _f(54) => _f(57));
_f(1) & _f(2) & WellDefinednessInvariant.2,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(49) & _f(54) => _f(56));
_f(1) & _f(2) & WellDefinednessInvariant.1,(_f(40) & _f(41) & _f(42) & _f(43) & _f(44) & _f(45) & _f(46) & _f(47) & _f(48) & _f(54) => _f(55));
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & Operation_slowdown.2,(_f(3) => _f(39));
_f(1) & _f(2) & _f(11) & _f(30) & _f(37) & Operation_slowdown.1,(_f(3) => _f(38));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & Operation_speedup.2,(_f(3) => _f(36));
_f(1) & _f(2) & _f(11) & _f(30) & _f(34) & Operation_speedup.1,(_f(3) => _f(35));
_f(1) & _f(2) & _f(11) & _f(30) & _f(31) & Operation_change_direction.2,(_f(3) => _f(33));
_f(1) & _f(2) & _f(11) & _f(30) & _f(31) & Operation_change_direction.1,(_f(3) => _f(32));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.14,(_f(3) => _f(29));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.13,(_f(3) => _f(28));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.12,(_f(3) => _f(27));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.11,(_f(3) => _f(26));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.10,(_f(3) => _f(25));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.9,(_f(3) => _f(24));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.8,(_f(3) => _f(23));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.7,(_f(3) => _f(22));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.6,(_f(3) => _f(21));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.5,(_f(3) => _f(20));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.4,(_f(3) => _f(19));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.3,(_f(3) => _f(18));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.2,(_f(3) => _f(17));
_f(1) & _f(2) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_takeoff_from.1,(_f(3) => _f(16));
_f(1) & _f(2) & Initialisation.7,(_f(3) => _f(10));
_f(1) & _f(2) & Initialisation.6,(_f(3) => _f(9));
_f(1) & _f(2) & Initialisation.5,(_f(3) => _f(8));
_f(1) & _f(2) & Initialisation.4,(_f(3) => _f(7));
_f(1) & _f(2) & Initialisation.3,(_f(3) => _f(6));
_f(1) & _f(2) & Initialisation.2,(_f(3) => _f(5));
_f(1) & _f(2) & Initialisation.1,(_f(3) => _f(4))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..4)*{DIRECTION}): FIN(NATURAL*{DIRECTION})& not(((1..4)*{DIRECTION}) = {}) & ((1..2)*{STATE}): FIN(NATURAL*{STATE})& not(((1..2)*{STATE}) = {}) & AIRCRAFT: FIN(INTEGER) & not(AIRCRAFT = {}) & ((total) : ((NAT-{0}))) & ((capacity) : ((NAT-{0}))) & (capacity +1 <= total) & ((card(AIRCRAFT)) = (total)) & ((mapw) = (3)) & ((maph) = (3)) & ((mapa) = ((((0) .. (maph)) * ((0) .. (mapw))))) & airport : POW( struct(xx$8888 >> ((0) .. (mapw)),yy$8888 >> ((0) .. (maph))));
"Invariant is preserved";
((({((((0) |-> (0))) |-> ((1|->STATE)))}\/{((((0) |-> (1))) |-> ((1|->STATE)))}\/{((((0) |-> (2))) |-> ((1|->STATE)))}\/{((((0) |-> (3))) |-> ((1|->STATE)))}\/{((((1) |-> (0))) |-> ((1|->STATE)))}\/{((((1) |-> (1))) |-> ((1|->STATE)))}\/{((((1) |-> (2))) |-> ((1|->STATE)))}\/{((((1) |-> (3))) |-> ((1|->STATE)))}\/{((((2) |-> (0))) |-> ((1|->STATE)))}\/{((((2) |-> (1))) |-> ((1|->STATE)))}\/{((((2) |-> (2))) |-> ((1|->STATE)))}\/{((((2) |-> (3))) |-> ((1|->STATE)))}\/{((((3) |-> (0))) |-> ((1|->STATE)))}\/{((((3) |-> (1))) |-> ((1|->STATE)))}\/{((((3) |-> (2))) |-> ((1|->STATE)))}\/{((((3) |-> (3))) |-> ((1|->STATE)))})) : (((mapa) --> (((1..2)*{STATE})))));
(({}) : (((AIRCRAFT) >+> (NAT))));
(({}) : (((AIRCRAFT) +-> ((NAT-{0})))));
(({}) : (((AIRCRAFT) +-> (struct(posx$8888 >> ((0) .. (3)),posy$8888 >> ((0) .. (3)))))));
(({}) : (((AIRCRAFT) +-> (((1..4)*{DIRECTION})))));
((0) : (NAT));
((card({})) = (0));
zone_states : mapa +-> ((1..2)*{STATE}) & dom(zone_states) = mapa & ((zone_states) : (((mapa) --> (((1..2)*{STATE}))))) & ids : AIRCRAFT +-> NAT & ids~ : NAT +-> AIRCRAFT & ((ids) : (((AIRCRAFT) >+> (NAT)))) & ((spdlmt) : (((AIRCRAFT) +-> ((NAT-{0}))))) & ((altlmt) : (((AIRCRAFT) +-> ((NAT-{0}))))) & ((currpos) : (((AIRCRAFT) +-> (struct(posx$8888 >> ((0) .. (3)),posy$8888 >> ((0) .. (3))))))) & ((hdng) : (((AIRCRAFT) +-> (((1..4)*{DIRECTION}))))) & ((currspd) : (((AIRCRAFT) +-> ((NAT-{0}))))) & ((curralt) : (((AIRCRAFT) +-> ((NAT-{0}))))) & ((curr_aircrafts) : (NAT)) & ((card(ids)) = (curr_aircrafts)) & ((card(spdlmt)) = (curr_aircrafts)) & ((card(altlmt)) = (curr_aircrafts)) & ((card(hdng)) = (curr_aircrafts)) & ((card(currspd)) = (curr_aircrafts)) & ((card(curralt)) = (curr_aircrafts));
((aa) : (AIRCRAFT));
((pp) : (airport));
(((zone_states )((((pp'xx)) |-> ((pp'yy))))) = ((1|->STATE)));
(curr_aircrafts +1 <= capacity);
((((zone_states) <+ (({(((((pp'xx)) |-> ((pp'yy)))) |-> ((2|->STATE)))})))) : (((mapa) --> (((1..2)*{STATE})))));
((((ids) \/ (({((aa) |-> ((curr_aircrafts + 1)))})))) : (((AIRCRAFT) >+> (NAT))));
((((spdlmt) \/ (({((aa) |-> (1))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
((((altlmt) \/ (({((aa) |-> (1))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
((((hdng) \/ (({((aa) |-> ((1|->DIRECTION)))})))) : (((AIRCRAFT) +-> (((1..4)*{DIRECTION})))));
((((currspd) \/ (({((aa) |-> (3))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
((((curralt) \/ (({((aa) |-> (3))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
(((curr_aircrafts + 1)) : (NAT));
((card(((ids) \/ (({((aa) |-> ((curr_aircrafts + 1)))}))))) = ((curr_aircrafts + 1)));
((card(((spdlmt) \/ (({((aa) |-> (1))}))))) = ((curr_aircrafts + 1)));
((card(((altlmt) \/ (({((aa) |-> (1))}))))) = ((curr_aircrafts + 1)));
((card(((hdng) \/ (({((aa) |-> ((1|->DIRECTION)))}))))) = ((curr_aircrafts + 1)));
((card(((currspd) \/ (({((aa) |-> (3))}))))) = ((curr_aircrafts + 1)));
((card(((curralt) \/ (({((aa) |-> (3))}))))) = ((curr_aircrafts + 1)));
((ii) : (ran(ids)));
((hh) : ((((1..4)*{DIRECTION}) - ({(hdng )(((ids)~ )(ii))}))));
((((hdng) <+ (({((((ids)~ )(ii)) |-> (hh))})))) : (((AIRCRAFT) +-> (((1..4)*{DIRECTION})))));
((card(((hdng) <+ (({((((ids)~ )(ii)) |-> (hh))}))))) = (curr_aircrafts));
((currspd )(((ids)~ )(ii)) +1 <= (spdlmt )(((ids)~ )(ii)));
((((currspd) <+ (({((((ids)~ )(ii)) |-> (((currspd )(((ids)~ )(ii)) + 1)))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
((card(((currspd) <+ (({((((ids)~ )(ii)) |-> (((currspd )(((ids)~ )(ii)) + 1)))}))))) = (curr_aircrafts));
((currspd )(((ids)~ )(ii)) +1 <= 1);
((((currspd) <+ (({((((ids)~ )(ii)) |-> (((currspd )(((ids)~ )(ii)) - 1)))})))) : (((AIRCRAFT) +-> ((NAT-{0})))));
((card(((currspd) <+ (({((((ids)~ )(ii)) |-> (((currspd )(((ids)~ )(ii)) - 1)))}))))) = (curr_aircrafts));
zone_states : mapa +-> ((1..2)*{STATE}) & dom(zone_states) = mapa & ((zone_states) : (((mapa) --> (((1..2)*{STATE})))));
ids : AIRCRAFT +-> NAT & ids~ : NAT +-> AIRCRAFT & ((ids) : (((AIRCRAFT) >+> (NAT))));
((spdlmt) : (((AIRCRAFT) +-> ((NAT-{0})))));
((altlmt) : (((AIRCRAFT) +-> ((NAT-{0})))));
((currpos) : (((AIRCRAFT) +-> (struct(posx$8888 >> ((0) .. (3)),posy$8888 >> ((0) .. (3)))))));
((hdng) : (((AIRCRAFT) +-> (((1..4)*{DIRECTION})))));
((currspd) : (((AIRCRAFT) +-> ((NAT-{0})))));
((curralt) : (((AIRCRAFT) +-> ((NAT-{0})))));
((curr_aircrafts) : (NAT));
((card(ids)) = (curr_aircrafts));
((card(spdlmt)) = (curr_aircrafts));
((card(altlmt)) = (curr_aircrafts));
((card(hdng)) = (curr_aircrafts));
((card(currspd)) = (curr_aircrafts));
"Invariant is well defined";
((ids) : (FIN(ids)));
((spdlmt) : (FIN(spdlmt)));
((altlmt) : (FIN(altlmt)));
((hdng) : (FIN(hdng)));
((currspd) : (FIN(currspd)));
((curralt) : (FIN(curralt)));
"Operation precondition is well defined";
(((((pp'xx)) |-> ((pp'yy)))) : (dom(zone_states)));
((zone_states) : (((dom(zone_states)) +-> (ran(zone_states)))));
((ii) : (dom((ids)~)));
(((ids)~) : (((dom((ids)~)) +-> (ran((ids)~)))));
((((ids)~ )(ii)) : (dom(hdng)));
((hdng) : (((dom(hdng)) +-> (ran(hdng)))));
"Operation is well defined";
((((ids)~ )(ii)) : (dom(currspd)));
((currspd) : (((dom(currspd)) +-> (ran(currspd)))));
((((ids)~ )(ii)) : (dom(spdlmt)));
((spdlmt) : (((dom(spdlmt)) +-> (ran(spdlmt)))))
END
&
THEORY EnumerateX IS
DIRECTION == {NN,SS,EE,WW};
STATE == {CLEAR,OCCUPIED}
END
